from dash import Dash, html, dash_table
import pandas as pd
import plotly.express as px
from json import *
from urllib.request import *
from medialib import *
from csv import *
import mysql.connector
import ssl as ssl
context = ssl.create_default_context()
context.check_hostname=False
context.verify_mode = ssl.CERT_NONE

my_db = mysql.connector.connect(
  host="localhost",
  user="root",
  password="JokkeSQL",
  database = "moviesRewards"
)
mycursor = my_db.cursor()
mycursor.execute("SELECT * FROM movies")
myresult = mycursor.fetchall()
for x in myresult:
  print(x)
cursor = db.cursor()

# Forespørgsel for at hente filmdataene
cursor.execute("SELECT title, genre, awards, actors, ratings FROM movies")

# Hent alle rækker
movies = cursor.fetchall()

# Luk forbindelsen
cursor.close()
db.close()

# Opret en tabel ved hjælp af medialib
table = Table()
table.add_header("Title", "Genre", "Release Year", "Director")

for movie in movies:
    table.add_row(*movie)

# Print tabellen
print(table)
